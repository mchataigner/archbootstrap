# Maintainer: Mathieu Chataigner <mathieu.chataigner@gmail.com>

pkgname=(pasystray)
_pkgname=pasystray
pkgver=0.7.1
pkgrel=1
pkgdesc="PulseAudio system tray (a replacement for padevchooser)"
arch=('x86_64')
url="https://github.com/christophgysin/pasystray"
license=('LGPL')
groups=('multimedia')
conflicts=('pasystray')
depends=(
  'libpulse'
  'libnotify'
  'avahi'
  'libx11'
  'gnome-icon-theme'
  'gtk-update-icon-cache'
)
makedepends=(
  'pkg-config'
  'gtk3'
)
optdepends=(
  'pulseaudio: To control a local pulseaudio instance'
  'paman: Launch PulseAudio manager from tray icon'
  'pavucontrol: Launch PulseAudio mixer from tray icon'
  'pavumeter: Launch PulseAudio volume meter from tray icon'
  'paprefs: Launch PulseAudio preferences from tray icon'
)
source=($_pkgname-$pkgver.tar.gz::https://github.com/christophgysin/$_pkgname/archive/$pkgver.tar.gz)
md5sums=('0b8fd064551218f95f2cb535fea37d2b')


build() {
  cd $srcdir/$_pkgname-$pkgver

  autoreconf -is
  ./configure \
    --prefix=/usr \
    --sysconfdir=/etc \
    make
}

package() {
  depends+=(gtk3)
  cd $srcdir/$_pkgname-$pkgver
  make DESTDIR="$pkgdir/" install
}
